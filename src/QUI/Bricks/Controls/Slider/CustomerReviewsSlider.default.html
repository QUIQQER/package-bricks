{if $this->getAttribute('showTitle') && $this->getAttribute('frontendTitle')}
<header class="control-header">
    <h1>{$this->getAttribute('frontendTitle')}</h1>
</header>
{/if}

{if $this->getAttribute('content') != ""}
<div class="control-content default-content">
    {$this->getAttribute('content')}
</div>
{/if}

<div class="customerReviewsSlider-default">

    <div class="glide customerReviewsSlider-default-slider-wrapper customerReviewsSlider-slider-wrapper">

        {if $arrows}
        <div class="customerReviewsSlider-default-arrows" data-glide-el="controls">
                <span class="customerReviewsSlider-arrow customerReviewsSlider-default-arrow customerReviewsSlider-default-arrow-left"
                      data-glide-dir="<">
                    <span class="arrow fa fa-arrow-left"></span>
                </span>
        </div>
        {/if}

        <div data-glide-el="track" class="glide__track customerReviewsSlider-default-track customerReviewsSlider-track">
            <ul class="glide__slides customerReviewsSlider-default-slider customerReviewsSlider-slider">

                {foreach from=$entries item=entry key=key}

                {* 1. Avoid big jump effect on page load *}
                <li class="glide__slide customerReviewsSlider-default-slide"{if $key > $perView - 1}style="display: none;"{/if}{* (1) *}
                    {if $key <= $perView - 1}style="width: calc(100% / {$perView});"{/if}{* (1) *}>

                    {if $entry['review']}
                    <div class="customerReviewsSlider-default-review default-content">
                        {$entry['review']}
                    </div>
                    {/if}

                    <div class="customerReviewsSlider-default-client">

                        <div class="customerReviewsSlider-default-client-img">
                            {if $entry['image']}
                            {image src=$entry['image'] loading="lazy" data-src="{$entry['image']}"}
                            {/if}
                        </div>

                        <div class="customerReviewsSlider-default-client-content">
                            {if $entry['customerName']}
                            <span class="customerReviewsSlider-default-client-name">{$entry['customerName']}</span>
                            {/if}
                            {if $entry['addition']}
                            <span class="customerReviewsSlider-default-client-addition">{$entry['addition']}</span>
                            {/if}

                            {if $entry['url']}
                            <a href="{$entry['url']}" class="customerReviewsSlider-default-url">
                                {if $entry['urlTitle']}
                                {$entry['urlTitle']}
                                {else}
                                {$entry['url']}
                                {/if}
                            </a>
                            {/if}

                        </div>

                    </div>

                </li>

                {/foreach}
            </ul>
        </div>

        {if $arrows}
        <div class="customerReviewsSlider-default-arrows" data-glide-el="controls">
                <span class="customerReviewsSlider-arrow customerReviewsSlider-default-arrow customerReviewsSlider-default-arrow-right"
                      data-glide-dir=">">
                    <span class="arrow fa fa-arrow-right"></span>
                </span>
        </div>
        {/if}

        <div class="customerReviewsSlider-default-dots" data-glide-el="controls[nav]">
            {assign var=counter value=0}
            {foreach from=$entries item=entry}
            <span class="customerReviewsSlider-default-dot" data-glide-dir="={$counter}"></span>
            {assign var=counter value=$counter+1}
            {/foreach}
        </div>

    </div>

</div>
